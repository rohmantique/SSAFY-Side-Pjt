{% extends 'base.html' %}

{% block content %}

  {% if empty %}
    <header class="m-5">
      <h2>ë‹¹ì‹ ì€ í˜¹ì‹œ ì„œìš¸ 1ë°˜ ì¸ì‹¸?! ğŸ¤©</h2>
    </header>

    <main class="text-center">
      <h4>í˜„ì¬ ê°€ì…í•œ ëª¨ë“  ì„œìš¸ 1ë°˜ ì‚¬ëŒë“¤ì—ê²Œ í¸ì§€ë¥¼ ë³´ëƒˆì–´ìš”.</h4>
      <h4>ì•„ì§ ê°€ì…í•˜ì§€ ì•Šì€ ì‚¬ëŒë“¤ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ë‚´ì¼ë„ ë“¤ì–´ì™€ì„œ í™•ì¸í•´ ì£¼ì‹¤ ê±°ì£ ?</h4>
    </main>
  {% else %}
    <header class="m-5">
      <h2>í¸ì§€ì“°ê¸° âœğŸ»</h2>
    </header>
    <h4 class="mb-4">í¸ì§€ë¥¼ ë³´ë‚´ê³  ì‹¶ì€ ì‚¬ëŒì˜ ì´ë¦„ì„ í´ë¦­í•˜ì„¸ìš”!</h4>
    
  {% endif %}

  {% for user in user_lst %}
    {% if user.realname != request.user.realname and user not in excepted %}
      <form action="{% url 'rollpaper:write' user.realname %}" method='GET'>
        <button class="btn userName">* {{ user.realname }}</button>
      </form>
    {% endif %}
  {% endfor %}  

  {% if empty %}
  {% else %}
    <!-- Button trigger modal -->
    <div class="d-flex justify-content-center mt-4">
      <button type="button" class="btn userName" data-bs-toggle="modal" data-bs-target="#userlstModal">
        <i class="bi bi-question-octagon-fill textBlue fs-3" width="20" height="20"></i>
        <span class="align-text-bottom fs-4">
          ë‚´ê°€ ì°¾ëŠ” ì‚¬ëŒì´ ì—†ë‹¤êµ¬ìš”?
        </span>
      </button>
    </div>
  {% endif %}
  
  <!-- ë‚´ê°€ ì°¾ëŠ” ì‚¬ëŒ Modal (rollpaper/user_lst.html) -->
  <div class="modal fade" id="userlstModal" tabindex="-1" aria-labelledby="userlstModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="userlstModalLabel">ğŸ‘Œ ê±±ì • ë§ˆì„¸ìš”!</h3>
        </div>
        <div class="modal-body">
          <p>í˜„ì¬ ê°€ì…í•œ ì‚¬ìš©ìëŠ” <strong>{{ user.realname }}</strong>ë‹˜ì„ ì œì™¸í•˜ê³  <strong>{{ currentuser }} </strong>ëª… ì…ë‹ˆë‹¤.</p>
          <br>
          <p>ì•„ì§ ê°€ì…í•˜ì§€ ì•Šì€ íšŒì›ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ</p>
          <p><strong>{{ targetday.month }}ì›” {{ targetday.day }}ì¼ {{ targetday.hour }}ì‹œ {{ targetday.minute }}ë¶„</strong>ê¹Œì§€ ê³„ì† ì ‘ì†í•˜ë©° í™•ì¸í•´ ì£¼ì‹¤ ê±°ì£ ?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn mybtn" data-bs-dismiss="modal">ë‹¹ê·¼ì´ì¥¬ğŸ¥•</button>
        </div>
      </div>
    </div>
  </div> 
{% endblock content %}