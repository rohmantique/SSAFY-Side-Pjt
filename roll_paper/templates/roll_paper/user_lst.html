{% extends 'base.html' %}

{% block content %}

  {% if empty %}
    <header class="m-5">
      <h2>λ‹Ήμ‹ μ€ νΉμ‹ μ„μΈ 1λ° μΈμ‹Έ?! π¤©</h2>
    </header>

    <main class="text-center">
      <h4>ν„μ¬ κ°€μ…ν• λ¨λ“  μ„μΈ 1λ° μ‚¬λλ“¤μ—κ² νΈμ§€λ¥Ό λ³΄λƒμ–΄μ”.</h4>
      <h4>μ•„μ§ κ°€μ…ν•μ§€ μ•μ€ μ‚¬λλ“¤μ΄ μμ„ μ μμΌλ‹ λ‚΄μΌλ„ λ“¤μ–΄μ™€μ„ ν™•μΈν•΄ μ£Όμ‹¤ κ±°μ£ ?</h4>
    </main>
  {% else %}
    <header class="m-5">
      <h2>νΈμ§€μ“°κΈ° βπ»</h2>
    </header>
    <h4 class="mb-4">νΈμ§€λ¥Ό λ³΄λ‚΄κ³  μ‹¶μ€ μ‚¬λμ μ΄λ¦„μ„ ν΄λ¦­ν•μ„Έμ”!</h4>
    
  {% endif %}

  {% for user in user_lst %}
    {% if user.realname != request.user.realname and user not in excepted %}
      <form action="{% url 'rollpaper:write' user.realname %}" method='GET'>
        <button class="btn userName">* {{ user.realname }}</button>
      </form>
    {% endif %}
  {% endfor %}  

  {% if empty %}
  {% else %}
    <!-- Button trigger modal -->
    <div class="d-flex justify-content-center mt-4">
      <button type="button" class="btn userName" data-bs-toggle="modal" data-bs-target="#userlstModal">
        <i class="bi bi-question-octagon-fill textBlue fs-3" width="20" height="20"></i>
        <span class="align-text-bottom fs-4">
          λ‚΄κ°€ μ°Ύλ” μ‚¬λμ΄ μ—†λ‹¤κµ¬μ”?
        </span>
      </button>
    </div>
  {% endif %}
  
  <!-- λ‚΄κ°€ μ°Ύλ” μ‚¬λ Modal (rollpaper/user_lst.html) -->
  <div class="modal fade" id="userlstModal" tabindex="-1" aria-labelledby="userlstModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="userlstModalLabel">π‘ κ±±μ • λ§μ„Έμ”!</h3>
        </div>
        <div class="modal-body">
          <p>ν„μ¬ κ°€μ…ν• μ‚¬μ©μλ” <strong>{{ user.realname }}</strong>λ‹μ„ μ μ™Έν•κ³  <strong>{{ currentuser }} </strong>λ… μ…λ‹λ‹¤.</p>
          <br>
          <p>μ•„μ§ κ°€μ…ν•μ§€ μ•μ€ νμ›μ΄ μμ„ μ μμΌλ‹</p>
          <p><strong>{{ targetday.month }}μ›” {{ targetday.day }}μΌ {{ targetday.hour }}μ‹ {{ targetday.minute }}λ¶„</strong>κΉμ§€ κ³„μ† μ ‘μ†ν•λ©° ν™•μΈν•΄ μ£Όμ‹¤ κ±°μ£ ?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn mybtn" data-bs-dismiss="modal">π¥•μ΄μ¥¬~</button>
        </div>
      </div>
    </div>
  </div> 
{% endblock content %}